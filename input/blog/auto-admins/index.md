title: Назначение администраторов
date: 2011-12-05 13:48
labels: blog
author: umonkey
---
Управлять музыкой и плейлистами «Тоже мне радио» может ограниченный круг
администраторов.  Раньше они указывались вручную техническим персоналом.  Теперь
их назначает робот, из числа наиболее активно [голосующих][5] слушателей.

Микроша — наш старший робот — назначает администраторами 10 слушателей, наиболее
активно голосовавших в течение последних 14 дней.  Эти люди уделяют станции
много времени, и логично предоставить им больше возможностей.  Заодно
заинтересованные слушатели смогут взять контроль над станцией в свои руки, если
нынешняя администрация без предупреждения уйдёт в бессрочный отпуск.

Чтобы узнать, являетесь ли вы администратором, отправьте Микроше команду
`admins` — она покажет список администраторов, или команду `help` — она покажет
список доступных команд.

## Памятка администратора

Подробнее о доступных командах можно узнать в [документации][1], но наиболее
часто используются следующие специальные команды:

- `tags -метка1 +метка2 for track_id` — снять с дорожки с идентификатором
  `track_id` метку «метка1» и добавить метку «метка2».  Метки используются в
  качестве плейлистов.  В повседневной ротации используются следующие метки:
  `pop` (утренний бодрый плейлист), `music` (обычный дневной эфир), `heavy` (час
  тяжёлого рока), `calm` (спокойная вечерняя музыка) и `lounge` (спокойная
  ночная музыка).  Подробности работы плейлистов можно узнать в
  [документации][2] и [текущем конфигурационном файле][3].
- `play метка1 [+метка2 +метка3]` — ручное создание плейлиста на ближайший час.
  Этот плейлист не будет прерываться новостями, джинглами и цитатами.
- `queue -s track_id` — добавление композиции в очередь без объявления о том,
  что она прозвучит по заказу слушателя.
- `say всем привет` — отправка сообщения в чат от имени Микроши.
- `skip` — прервать проигрываемую композицию и перейти к следующей.

Наиболее полезные задачи:

- Привязка осиротевших композиций к [существующим плейлистам][3].  Найти такие
  композиции можно командой `find @orphan`.
- Сортировка по плейлистам композиций, отмеченных меткой «tagme».  Эта метка
  устанавливается при [загрузке музыки из внешних источников][4] (Last.fm и др)
  и блокирует попадание музыки в дневную ротацию (чтобы случайно не забить её
  каким-нибудь хевметалом).  Получить список можно командой `find`,
  устанавливаются метки командой `tags`.  Пример:

        > find @tagme
        Found 63 tracks, showing 10:                                        
        «Neon» by Denergized — #4935 ⚖1.20 ♺4 @tagme
        > tags -tagme industrial for 4935
        New labels: industrial.


[1]: http://ardj.googlecode.com/hg-history/default/doc/chunked/jabber-commands.html
[2]: http://ardj.googlecode.com/hg-history/default/doc/chunked/programming.html#playlists
[3]: http://files.tmradio.net/playlists.yaml.txt
[4]: http://ardj.googlecode.com/hg-history/default/doc/chunked/jabber-commands.html#jabber-download
[5]: /voting/
